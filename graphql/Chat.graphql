type Chat @guard {
    id: ID!
    user1: User @belongsTo(relation: "user1")
    user2: User @belongsTo(relation: "user2")
    messages: [Message!]! @hasMany
}

type Query @guard {
    # CHATS
    chats: [Chat!]! @all(model: "Chat")
    chat(id: ID @eq): Chat @find(model: "Chat")
}

type Mutation @guard {
    #Chats
    createChat(user1_id: ID!, user2_id: ID!): Chat! @create

    deleteChat(id: ID! @eq): Boolean! @delete(model: Chat)
}
